<?php

namespace Database\Factories;

use App\Models\Patient;
use App\Models\Diagnosis;
use App\Models\Treatment;

use Illuminate\Database\Eloquent\Factories\Factory;

/**
 * @extends \Illuminate\Database\Eloquent\Factories\Factory<\App\Models\Patient>
 */
class PatientFactory extends Factory
{
    /**
     * Configure the model factory.
     */
    public function configure(): static
    {
        return $this->afterMaking(function (Patient $patient) {
            // ...
        })->afterCreating(function (Patient $patient) {
            if ($patient->state === "Dado de alta") {
                $initialDiag = Diagnosis::create([
                    'denver_test' => '{"lenguaje": {"oks": 3, "label": "Lenguaje", "state": true, "tests": [{"label": "Responder a Campana", "toAge": 0.5, "fromAge": 0, "expectedAge": 0}, {"label": "Vocalizar", "toAge": 0.9, "fromAge": 0, "expectedAge": 0}, {"label": "OOO / AAA", "toAge": 2.7, "fromAge": 0.7, "expectedAge": 1.6}, {"label": "Reirse", "toAge": 3.2, "fromAge": 1.5, "expectedAge": 2.6}, {"label": "Chillar", "toAge": 4.3, "fromAge": 1.5, "expectedAge": 2.8}, {"label": "Volver hacia sonajero", "toAge": 5.6, "fromAge": 2.9, "expectedAge": 4.8}, {"label": "Volver hacia voz", "toAge": 6.8, "fromAge": 3.6, "expectedAge": 5.7}, {"label": "Sílabas sencillas", "toAge": 7.5, "fromAge": 4.8, "expectedAge": 6}, {"label": "Imitar sonidos del lenguaje", "toAge": 8.8, "fromAge": 3, "expectedAge": 6}, {"label": "Papá / mamá no específicos", "toAge": 9.1, "fromAge": 5.8, "expectedAge": 7.8}, {"label": "Sílabas combinadas", "toAge": 10, "fromAge": 5.9, "expectedAge": 7.5}, {"label": "Ga Ge Gi", "toAge": 12, "fromAge": 5.8, "expectedAge": 8.1}, {"label": "Papá / mamá específicos", "toAge": 13.1, "fromAge": 6.9, "expectedAge": 11}, {"label": "Una palabra", "toAge": 15, "fromAge": 9.7, "expectedAge": 13.1}, {"label": "Dos palabras", "toAge": 16.7, "fromAge": 10.7, "expectedAge": 14.7}, {"label": "Tres palabras", "toAge": 17.7, "fromAge": 11.5, "expectedAge": 15.9}, {"label": "Cinco palabras", "toAge": 20.5, "fromAge": 13.8, "expectedAge": 17.7}, {"label": "Indicar 2 dibujos", "toAge": 23.5, "fromAge": 17.2, "expectedAge": 20.2}, {"label": "Conbinar palabras", "toAge": 26, "fromAge": 17, "expectedAge": 20}, {"label": "Nombrar 1 dibujo", "toAge": 28, "fromAge": 18, "expectedAge": 22.5}, {"label": "Partes / cuerpos", "toAge": 29, "fromAge": 18.1, "expectedAge": 22.9}, {"label": "Indicar 4 dibujos", "toAge": 31, "fromAge": 19.8, "expectedAge": 24}, {"label": "Habla medio entendible", "toAge": 34, "fromAge": 17.1, "expectedAge": 27}, {"label": "Nombrar 4 dibujos", "state": true, "toAge": 34, "fromAge": 23, "expectedAge": 30}, {"label": "Saber 2 acciones", "state": true, "toAge": 39, "fromAge": 23.5, "expectedAge": 32}, {"label": "Saber 2 adjetivos", "state": true, "toAge": 43, "fromAge": 31, "expectedAge": 36}, {"label": "Nombrar 1 color", "state": false, "toAge": 45, "fromAge": 29, "expectedAge": 37}, {"label": "Uso de 2 objetos", "toAge": 46, "fromAge": 31, "expectedAge": 39}, {"label": "Contar cubos", "toAge": 47, "fromAge": 33, "expectedAge": 41}, {"label": "Uso de 2 objetos", "toAge": 49, "fromAge": 33, "expectedAge": 41}, {"label": "Saber 4 acciones", "toAge": 49, "fromAge": 31, "expectedAge": 43.5}, {"label": "Habla todo entendible", "toAge": 51, "fromAge": 23.2, "expectedAge": 40}, {"label": "Entender 4 preposiciones", "toAge": 56, "fromAge": 33, "expectedAge": 46}, {"label": "Nombrar 4 colores", "toAge": 58, "fromAge": 36, "expectedAge": 51}, {"label": "Definir 5 palabras", "toAge": 64, "fromAge": 39, "expectedAge": 55}, {"label": "Saber 3 adjetivos", "toAge": 64, "fromAge": 34, "expectedAge": 46}, {"label": "Contar 5 cubos", "toAge": 64, "fromAge": 49, "expectedAge": 57.5}, {"label": "Contrarios - 2", "toAge": 68, "fromAge": 44, "expectedAge": 60}, {"label": "Definir 7 palabras", "toAge": 72, "fromAge": 56, "expectedAge": 67}], "wrongs": 0, "ageIndex": 24, "detectedAge": 36, "higherIndex": 26, "currentIndex": 22, "observations": "Diagnostico dudoso ejemplo, jeej"}, "motorFino": {"oks": 0, "label": "Motor Fino - Adaptativo", "state": false, "tests": [{"label": "Seguir hasta línea Med.", "toAge": 1.2, "fromAge": 0, "expectedAge": 0.5}, {"label": "Seguir línea Med.", "toAge": 2.8, "fromAge": 0.9, "expectedAge": 2}, {"label": "Agarrar sonajero", "toAge": 3.9, "fromAge": 2.6, "expectedAge": 3}, {"label": "Manos juntas", "toAge": 4, "fromAge": 2, "expectedAge": 2.9}, {"label": "Seguir 180", "toAge": 4.6, "fromAge": 2.2, "expectedAge": 3.9}, {"label": "Mirar una pasa", "toAge": 5.2, "fromAge": 2.9, "expectedAge": 4.5}, {"label": "Alcanzar", "toAge": 5.8, "fromAge": 4.5, "expectedAge": 5.2}, {"label": "Buscar el hilo", "toAge": 7.2, "fromAge": 5, "expectedAge": 6.1}, {"label": "Rastrillar pasa", "toAge": 7.3, "fromAge": 5.7, "expectedAge": 6}, {"label": "Pasar cubo", "toAge": 7.9, "fromAge": 5.1, "expectedAge": 6.5}, {"label": "Agarrar 2 cubos", "toAge": 9.1, "fromAge": 5.9, "expectedAge": 7.3}, {"label": "Apretón gordo / dedos", "toAge": 10.2, "fromAge": 7.1, "expectedAge": 9.1}, {"label": "Golpear 2 cubos manos", "toAge": 11, "fromAge": 6.9, "expectedAge": 10}, {"label": "Meter cubo en taza", "toAge": 14, "fromAge": 9.9, "expectedAge": 12.5}, {"label": "Garabatear", "toAge": 16.5, "fromAge": 11.9, "expectedAge": 14}, {"label": "Botar pasa, demostrado", "toAge": 19.9, "fromAge": 13, "expectedAge": 15.9}, {"label": "Torre de 2 cubos", "toAge": 21, "fromAge": 13.8, "expectedAge": 17}, {"label": "Torre de 4 cubos", "toAge": 25, "fromAge": 16.6, "expectedAge": 19.9}, {"label": "Torre de 6 cubos", "toAge": 32, "fromAge": 19.85, "expectedAge": 25}, {"label": "Imitar linea vertical", "state": false, "toAge": 39, "fromAge": 25, "expectedAge": 33}, {"label": "Torre de 8 cubos", "state": false, "toAge": 41, "fromAge": 23, "expectedAge": 33}, {"label": "Menearse gordo", "toAge": 46, "fromAge": 31, "expectedAge": 40}, {"label": "Copiar círculo", "toAge": 49, "fromAge": 37, "expectedAge": 43}, {"label": "Dibujar personas 3 partes", "toAge": 56, "fromAge": 40, "expectedAge": 50}, {"label": "Copiar +", "toAge": 57, "fromAge": 41, "expectedAge": 51}, {"label": "Escoger línea más larga", "toAge": 63, "fromAge": 36, "expectedAge": 48}, {"label": "Copiar cuadrado demostrar", "toAge": 72, "fromAge": 48, "expectedAge": 60}, {"label": "Dibujar pesonas 6 partes", "toAge": 72, "fromAge": 49, "expectedAge": 62}, {"label": "Copiar rectángulo", "toAge": 72, "fromAge": 85, "expectedAge": 1}], "wrongs": 2, "ageIndex": 20, "detectedAge": null, "higherIndex": 20, "currentIndex": 18, "observations": "Diagnostico dudoso ejemplo, jeej"}, "motorGrande": {"oks": 3, "label": "Motor Grande", "state": true, "tests": [{"label": "Movimientos iguales", "toAge": 0.25, "fromAge": 0, "expectedAge": 0}, {"label": "Levantar cabeza", "toAge": 0.5, "fromAge": 0, "expectedAge": 0}, {"label": "Cabeza levantada 45°", "toAge": 2.8, "fromAge": 0, "expectedAge": 1.7}, {"label": "Cabeza levantada 90°", "toAge": 3.65, "fromAge": 1.25, "expectedAge": 2.2}, {"label": "Sentarse cabeza firme", "toAge": 3.8, "fromAge": 1.4, "expectedAge": 2.3}, {"label": "Pesarse en piernas", "toAge": 4.5, "fromAge": 1.8, "expectedAge": 3.3}, {"label": "Pecho arriba apoyo en brazos", "toAge": 4.7, "fromAge": 2.7, "expectedAge": 4}, {"label": "Voltearse", "toAge": 5.5, "fromAge": 2.1, "expectedAge": 4.3}, {"label": "Levantar a sentar no retraso / cabeza", "toAge": 7, "fromAge": 3, "expectedAge": 5}, {"label": "Sentarse sin apoyo", "toAge": 7, "fromAge": 5.5, "expectedAge": 6.1}, {"label": "De pie apoyandose en Algo", "toAge": 8.8, "fromAge": 6.7, "expectedAge": 8}, {"label": "Ponerse de pie", "toAge": 9.8, "fromAge": 8, "expectedAge": 9}, {"label": "Sentarde se otra post", "toAge": 10, "fromAge": 7.9, "expectedAge": 9.1}, {"label": "De pie 2 seg", "toAge": 12, "fromAge": 9.5, "expectedAge": 11}, {"label": "De pie solo", "toAge": 13.9, "fromAge": 10.5, "expectedAge": 12.8}, {"label": "Agacharse encoger", "toAge": 14.9, "fromAge": 11, "expectedAge": 13.1}, {"label": "Caminar bien", "toAge": 15.1, "fromAge": 11, "expectedAge": 13.1}, {"label": "Caminar para atras", "toAge": 16.7, "fromAge": 12.2, "expectedAge": 15}, {"label": "Correr", "toAge": 21, "fromAge": 13.9, "expectedAge": 17.5}, {"label": "Subir escalera", "toAge": 29, "fromAge": 14, "expectedAge": 18}, {"label": "Pelota hacia delante", "toAge": 23, "fromAge": 15.9, "expectedAge": 20}, {"label": "Saltar", "state": true, "toAge": 30, "fromAge": 20, "expectedAge": 27}, {"label": "Tirar pelota sobre mano", "state": true, "toAge": 36, "fromAge": 17, "expectedAge": 24}, {"label": "Salto de longitud", "state": true, "toAge": 37, "fromAge": 28, "expectedAge": 34}, {"label": "Equilibrio cada pie 1 seg", "state": false, "toAge": 40, "fromAge": 27, "expectedAge": 33}, {"label": "Equilibrio cada pie 2 seg", "toAge": 48, "fromAge": 32, "expectedAge": 42}, {"label": "Saltar 1 pie", "toAge": 50, "fromAge": 38, "expectedAge": 44}, {"label": "Equilibrio cada pie 3 seg", "toAge": 54, "fromAge": 32, "expectedAge": 46}, {"label": "Equilibrio cada pie 4 seg", "toAge": 60, "fromAge": 41, "expectedAge": 54}, {"label": "Equilibrio cada pie 5 seg", "toAge": 67, "fromAge": 45, "expectedAge": 58}, {"label": "Caminar talón / dedo", "toAge": 68, "fromAge": 48, "expectedAge": 60}, {"label": "equilibrio cada pie 6 seg", "toAge": 72, "fromAge": 50, "expectedAge": 63}], "wrongs": 1, "ageIndex": 24, "detectedAge": 35.11, "higherIndex": 24, "currentIndex": 20, "observations": "Diagnostico dudoso ejemplo, jeej"}, "personalSocial": {"oks": 0, "label": "Personal Social", "state": false, "tests": [{"label": "Responder con sonrisa", "toAge": 1.8, "fromAge": 0.5, "expectedAge": 1}, {"label": "Sonreir espontaneamente", "toAge": 2, "fromAge": 0.1, "expectedAge": 1.2}, {"label": "Mirarse las manos", "toAge": 4, "fromAge": 0.9, "expectedAge": 3}, {"label": "Alcanzar juguete", "toAge": 6, "fromAge": 4, "expectedAge": 5}, {"label": "Darse / Comer", "toAge": 7, "fromAge": 4.8, "expectedAge": 6}, {"label": "Aplaudir", "toAge": 11.2, "fromAge": 7, "expectedAge": 10.1}, {"label": "Indicar deseos", "toAge": 13.2, "fromAge": 7.1, "expectedAge": 9.4}, {"label": "Saludar adios", "toAge": 14, "fromAge": 6.8, "expectedAge": 9.9}, {"label": "Jugar pelota", "toAge": 15.9, "fromAge": 9.5, "expectedAge": 12}, {"label": "Imitar actividades", "toAge": 13, "fromAge": 10, "expectedAge": 12.5}, {"label": "Beber en una taza", "toAge": 17, "fromAge": 8.9, "expectedAge": 15}, {"label": "Ayudar en casa", "toAge": 17.1, "fromAge": 12.8, "expectedAge": 15.8}, {"label": "Usar cuchara / tenedor", "toAge": 20, "fromAge": 12.9, "expectedAge": 17.1}, {"label": "Quitarse la ropa", "toAge": 24, "fromAge": 13.1, "expectedAge": 20}, {"label": "Dar de comer a muñeca", "toAge": 24.1, "fromAge": 15, "expectedAge": 19}, {"label": "Ponerse la ropa", "toAge": 30, "fromAge": 20.1, "expectedAge": 27}, {"label": "Cepillarse los dientes con ayuda", "toAge": 33, "fromAge": 16, "expectedAge": 23}, {"label": "Lavarse / secarse las manos", "toAge": 38, "fromAge": 19, "expectedAge": 26}, {"label": "Nombrar amigo", "state": false, "toAge": 38, "fromAge": 27, "expectedAge": 34}, {"label": "Ponerse camiseta", "state": false, "toAge": 42, "fromAge": 27, "expectedAge": 33}, {"label": "Vestirse sin ayuda", "toAge": 54, "fromAge": 26, "expectedAge": 48}, {"label": "Jugar juegos / naipes", "toAge": 59, "fromAge": 33, "expectedAge": 50}, {"label": "Cepillarse dientes sin ayuda", "toAge": 60, "fromAge": 31, "expectedAge": 51}, {"label": "Preparar cereal", "toAge": 61, "fromAge": 35, "expectedAge": 54}], "wrongs": 2, "ageIndex": 19, "detectedAge": null, "higherIndex": 19, "currentIndex": 17, "observations": "Diagnostico dudoso ejemplo, jeej"}}',
                    'recomendations' => "Se recomienda trabajar en areas con fallos",
                    'result' => "Dudoso",
                    'evaluated_age' => 35.11,
                    'created_at' => fake()->dateTimeBetween('-10 months', '-2 months')
                ]);
                $finalDiag = Diagnosis::create([
                    'denver_test' => '{"lenguaje": {"oks": 3, "label": "Lenguaje", "state": true, "tests": [{"label": "Responder a Campana", "toAge": 0.5, "fromAge": 0, "expectedAge": 0}, {"label": "Vocalizar", "toAge": 0.9, "fromAge": 0, "expectedAge": 0}, {"label": "OOO / AAA", "toAge": 2.7, "fromAge": 0.7, "expectedAge": 1.6}, {"label": "Reirse", "toAge": 3.2, "fromAge": 1.5, "expectedAge": 2.6}, {"label": "Chillar", "toAge": 4.3, "fromAge": 1.5, "expectedAge": 2.8}, {"label": "Volver hacia sonajero", "toAge": 5.6, "fromAge": 2.9, "expectedAge": 4.8}, {"label": "Volver hacia voz", "toAge": 6.8, "fromAge": 3.6, "expectedAge": 5.7}, {"label": "Sílabas sencillas", "toAge": 7.5, "fromAge": 4.8, "expectedAge": 6}, {"label": "Imitar sonidos del lenguaje", "toAge": 8.8, "fromAge": 3, "expectedAge": 6}, {"label": "Papá / mamá no específicos", "toAge": 9.1, "fromAge": 5.8, "expectedAge": 7.8}, {"label": "Sílabas combinadas", "toAge": 10, "fromAge": 5.9, "expectedAge": 7.5}, {"label": "Ga Ge Gi", "toAge": 12, "fromAge": 5.8, "expectedAge": 8.1}, {"label": "Papá / mamá específicos", "toAge": 13.1, "fromAge": 6.9, "expectedAge": 11}, {"label": "Una palabra", "toAge": 15, "fromAge": 9.7, "expectedAge": 13.1}, {"label": "Dos palabras", "toAge": 16.7, "fromAge": 10.7, "expectedAge": 14.7}, {"label": "Tres palabras", "toAge": 17.7, "fromAge": 11.5, "expectedAge": 15.9}, {"label": "Cinco palabras", "toAge": 20.5, "fromAge": 13.8, "expectedAge": 17.7}, {"label": "Indicar 2 dibujos", "toAge": 23.5, "fromAge": 17.2, "expectedAge": 20.2}, {"label": "Conbinar palabras", "toAge": 26, "fromAge": 17, "expectedAge": 20}, {"label": "Nombrar 1 dibujo", "toAge": 28, "fromAge": 18, "expectedAge": 22.5}, {"label": "Partes / cuerpos", "toAge": 29, "fromAge": 18.1, "expectedAge": 22.9}, {"label": "Indicar 4 dibujos", "toAge": 31, "fromAge": 19.8, "expectedAge": 24}, {"label": "Habla medio entendible", "state": true, "toAge": 34, "fromAge": 17.1, "expectedAge": 27}, {"label": "Nombrar 4 dibujos", "state": true, "toAge": 34, "fromAge": 23, "expectedAge": 30}, {"label": "Saber 2 acciones", "state": true, "toAge": 39, "fromAge": 23.5, "expectedAge": 32}, {"label": "Saber 2 adjetivos", "state": false, "toAge": 43, "fromAge": 31, "expectedAge": 36}, {"label": "Nombrar 1 color", "toAge": 45, "fromAge": 29, "expectedAge": 37}, {"label": "Uso de 2 objetos", "toAge": 46, "fromAge": 31, "expectedAge": 39}, {"label": "Contar cubos", "toAge": 47, "fromAge": 33, "expectedAge": 41}, {"label": "Uso de 2 objetos", "toAge": 49, "fromAge": 33, "expectedAge": 41}, {"label": "Saber 4 acciones", "toAge": 49, "fromAge": 31, "expectedAge": 43.5}, {"label": "Habla todo entendible", "toAge": 51, "fromAge": 23.2, "expectedAge": 40}, {"label": "Entender 4 preposiciones", "toAge": 56, "fromAge": 33, "expectedAge": 46}, {"label": "Nombrar 4 colores", "toAge": 58, "fromAge": 36, "expectedAge": 51}, {"label": "Definir 5 palabras", "toAge": 64, "fromAge": 39, "expectedAge": 55}, {"label": "Saber 3 adjetivos", "toAge": 64, "fromAge": 34, "expectedAge": 46}, {"label": "Contar 5 cubos", "toAge": 64, "fromAge": 49, "expectedAge": 57.5}, {"label": "Contrarios - 2", "toAge": 68, "fromAge": 44, "expectedAge": 60}, {"label": "Definir 7 palabras", "toAge": 72, "fromAge": 56, "expectedAge": 67}], "wrongs": 0, "ageIndex": 24, "detectedAge": 32, "higherIndex": 25, "currentIndex": 21, "observations": "Todo Bien, se puede dar de alta"}, "motorFino": {"oks": 3, "label": "Motor Fino - Adaptativo", "state": true, "tests": [{"label": "Seguir hasta línea Med.", "toAge": 1.2, "fromAge": 0, "expectedAge": 0.5}, {"label": "Seguir línea Med.", "toAge": 2.8, "fromAge": 0.9, "expectedAge": 2}, {"label": "Agarrar sonajero", "toAge": 3.9, "fromAge": 2.6, "expectedAge": 3}, {"label": "Manos juntas", "toAge": 4, "fromAge": 2, "expectedAge": 2.9}, {"label": "Seguir 180", "toAge": 4.6, "fromAge": 2.2, "expectedAge": 3.9}, {"label": "Mirar una pasa", "toAge": 5.2, "fromAge": 2.9, "expectedAge": 4.5}, {"label": "Alcanzar", "toAge": 5.8, "fromAge": 4.5, "expectedAge": 5.2}, {"label": "Buscar el hilo", "toAge": 7.2, "fromAge": 5, "expectedAge": 6.1}, {"label": "Rastrillar pasa", "toAge": 7.3, "fromAge": 5.7, "expectedAge": 6}, {"label": "Pasar cubo", "toAge": 7.9, "fromAge": 5.1, "expectedAge": 6.5}, {"label": "Agarrar 2 cubos", "toAge": 9.1, "fromAge": 5.9, "expectedAge": 7.3}, {"label": "Apretón gordo / dedos", "toAge": 10.2, "fromAge": 7.1, "expectedAge": 9.1}, {"label": "Golpear 2 cubos manos", "toAge": 11, "fromAge": 6.9, "expectedAge": 10}, {"label": "Meter cubo en taza", "toAge": 14, "fromAge": 9.9, "expectedAge": 12.5}, {"label": "Garabatear", "toAge": 16.5, "fromAge": 11.9, "expectedAge": 14}, {"label": "Botar pasa, demostrado", "toAge": 19.9, "fromAge": 13, "expectedAge": 15.9}, {"label": "Torre de 2 cubos", "toAge": 21, "fromAge": 13.8, "expectedAge": 17}, {"label": "Torre de 4 cubos", "toAge": 25, "fromAge": 16.6, "expectedAge": 19.9}, {"label": "Torre de 6 cubos", "state": true, "toAge": 32, "fromAge": 19.85, "expectedAge": 25}, {"label": "Imitar linea vertical", "state": true, "toAge": 39, "fromAge": 25, "expectedAge": 33}, {"label": "Torre de 8 cubos", "state": true, "toAge": 41, "fromAge": 23, "expectedAge": 33}, {"label": "Menearse gordo", "state": false, "toAge": 46, "fromAge": 31, "expectedAge": 40}, {"label": "Copiar círculo", "toAge": 49, "fromAge": 37, "expectedAge": 43}, {"label": "Dibujar personas 3 partes", "toAge": 56, "fromAge": 40, "expectedAge": 50}, {"label": "Copiar +", "toAge": 57, "fromAge": 41, "expectedAge": 51}, {"label": "Escoger línea más larga", "toAge": 63, "fromAge": 36, "expectedAge": 48}, {"label": "Copiar cuadrado demostrar", "toAge": 72, "fromAge": 48, "expectedAge": 60}, {"label": "Dibujar pesonas 6 partes", "toAge": 72, "fromAge": 49, "expectedAge": 62}, {"label": "Copiar rectángulo", "toAge": 72, "fromAge": 85, "expectedAge": 1}], "wrongs": 0, "ageIndex": 20, "detectedAge": 33, "higherIndex": 21, "currentIndex": 17, "observations": "Todo Bien, se puede dar de alta"}, "motorGrande": {"oks": 3, "label": "Motor Grande", "state": true, "tests": [{"label": "Movimientos iguales", "toAge": 0.25, "fromAge": 0, "expectedAge": 0}, {"label": "Levantar cabeza", "toAge": 0.5, "fromAge": 0, "expectedAge": 0}, {"label": "Cabeza levantada 45°", "toAge": 2.8, "fromAge": 0, "expectedAge": 1.7}, {"label": "Cabeza levantada 90°", "toAge": 3.65, "fromAge": 1.25, "expectedAge": 2.2}, {"label": "Sentarse cabeza firme", "toAge": 3.8, "fromAge": 1.4, "expectedAge": 2.3}, {"label": "Pesarse en piernas", "toAge": 4.5, "fromAge": 1.8, "expectedAge": 3.3}, {"label": "Pecho arriba apoyo en brazos", "toAge": 4.7, "fromAge": 2.7, "expectedAge": 4}, {"label": "Voltearse", "toAge": 5.5, "fromAge": 2.1, "expectedAge": 4.3}, {"label": "Levantar a sentar no retraso / cabeza", "toAge": 7, "fromAge": 3, "expectedAge": 5}, {"label": "Sentarse sin apoyo", "toAge": 7, "fromAge": 5.5, "expectedAge": 6.1}, {"label": "De pie apoyandose en Algo", "toAge": 8.8, "fromAge": 6.7, "expectedAge": 8}, {"label": "Ponerse de pie", "toAge": 9.8, "fromAge": 8, "expectedAge": 9}, {"label": "Sentarde se otra post", "toAge": 10, "fromAge": 7.9, "expectedAge": 9.1}, {"label": "De pie 2 seg", "toAge": 12, "fromAge": 9.5, "expectedAge": 11}, {"label": "De pie solo", "toAge": 13.9, "fromAge": 10.5, "expectedAge": 12.8}, {"label": "Agacharse encoger", "toAge": 14.9, "fromAge": 11, "expectedAge": 13.1}, {"label": "Caminar bien", "toAge": 15.1, "fromAge": 11, "expectedAge": 13.1}, {"label": "Caminar para atras", "toAge": 16.7, "fromAge": 12.2, "expectedAge": 15}, {"label": "Correr", "toAge": 21, "fromAge": 13.9, "expectedAge": 17.5}, {"label": "Subir escalera", "toAge": 29, "fromAge": 14, "expectedAge": 18}, {"label": "Pelota hacia delante", "toAge": 23, "fromAge": 15.9, "expectedAge": 20}, {"label": "Saltar", "toAge": 30, "fromAge": 20, "expectedAge": 27}, {"label": "Tirar pelota sobre mano", "state": true, "toAge": 36, "fromAge": 17, "expectedAge": 24}, {"label": "Salto de longitud", "state": true, "toAge": 37, "fromAge": 28, "expectedAge": 34}, {"label": "Equilibrio cada pie 1 seg", "state": true, "toAge": 40, "fromAge": 27, "expectedAge": 33}, {"label": "Equilibrio cada pie 2 seg", "state": false, "toAge": 48, "fromAge": 32, "expectedAge": 42}, {"label": "Saltar 1 pie", "toAge": 50, "fromAge": 38, "expectedAge": 44}, {"label": "Equilibrio cada pie 3 seg", "toAge": 54, "fromAge": 32, "expectedAge": 46}, {"label": "Equilibrio cada pie 4 seg", "toAge": 60, "fromAge": 41, "expectedAge": 54}, {"label": "Equilibrio cada pie 5 seg", "toAge": 67, "fromAge": 45, "expectedAge": 58}, {"label": "Caminar talón / dedo", "toAge": 68, "fromAge": 48, "expectedAge": 60}, {"label": "equilibrio cada pie 6 seg", "toAge": 72, "fromAge": 50, "expectedAge": 63}], "wrongs": 0, "ageIndex": 24, "detectedAge": 33, "higherIndex": 25, "currentIndex": 21, "observations": "Todo Bien, se puede dar de alta"}, "personalSocial": {"oks": 3, "label": "Personal Social", "state": true, "tests": [{"label": "Responder con sonrisa", "toAge": 1.8, "fromAge": 0.5, "expectedAge": 1}, {"label": "Sonreir espontaneamente", "toAge": 2, "fromAge": 0.1, "expectedAge": 1.2}, {"label": "Mirarse las manos", "toAge": 4, "fromAge": 0.9, "expectedAge": 3}, {"label": "Alcanzar juguete", "toAge": 6, "fromAge": 4, "expectedAge": 5}, {"label": "Darse / Comer", "toAge": 7, "fromAge": 4.8, "expectedAge": 6}, {"label": "Aplaudir", "toAge": 11.2, "fromAge": 7, "expectedAge": 10.1}, {"label": "Indicar deseos", "toAge": 13.2, "fromAge": 7.1, "expectedAge": 9.4}, {"label": "Saludar adios", "toAge": 14, "fromAge": 6.8, "expectedAge": 9.9}, {"label": "Jugar pelota", "toAge": 15.9, "fromAge": 9.5, "expectedAge": 12}, {"label": "Imitar actividades", "toAge": 13, "fromAge": 10, "expectedAge": 12.5}, {"label": "Beber en una taza", "toAge": 17, "fromAge": 8.9, "expectedAge": 15}, {"label": "Ayudar en casa", "toAge": 17.1, "fromAge": 12.8, "expectedAge": 15.8}, {"label": "Usar cuchara / tenedor", "toAge": 20, "fromAge": 12.9, "expectedAge": 17.1}, {"label": "Quitarse la ropa", "toAge": 24, "fromAge": 13.1, "expectedAge": 20}, {"label": "Dar de comer a muñeca", "toAge": 24.1, "fromAge": 15, "expectedAge": 19}, {"label": "Ponerse la ropa", "toAge": 30, "fromAge": 20.1, "expectedAge": 27}, {"label": "Cepillarse los dientes con ayuda", "toAge": 33, "fromAge": 16, "expectedAge": 23}, {"label": "Lavarse / secarse las manos", "state": true, "toAge": 38, "fromAge": 19, "expectedAge": 26}, {"label": "Nombrar amigo", "state": true, "toAge": 38, "fromAge": 27, "expectedAge": 34}, {"label": "Ponerse camiseta", "state": true, "toAge": 42, "fromAge": 27, "expectedAge": 33}, {"label": "Vestirse sin ayuda", "state": false, "toAge": 54, "fromAge": 26, "expectedAge": 48}, {"label": "Jugar juegos / naipes", "toAge": 59, "fromAge": 33, "expectedAge": 50}, {"label": "Cepillarse dientes sin ayuda", "toAge": 60, "fromAge": 31, "expectedAge": 51}, {"label": "Preparar cereal", "toAge": 61, "fromAge": 35, "expectedAge": 54}], "wrongs": 0, "ageIndex": 19, "detectedAge": 33, "higherIndex": 20, "currentIndex": 16, "observations": "Todo Bien, se puede dar de alta"}}',
                    'recomendations' => "Se recomienda constante tramaiento para reforzar areas que fallaron en diagnostico inicial",
                    'result' => "Normal",
                    'evaluated_age' => 35.11,
                    'created_at' => fake()->dateTimeBetween('-6 months', 'now')
                ]);
                Treatment::create([
                    "patient_id" => $patient->id,
                    "initial_diagnoses_id" => $initialDiag->id,
                    "final_diagnoses_id" => $finalDiag->id,
                    "external_treatment" => '{"list": [{"topic": "motorFino", "description": "Test pa mejorar"}, {"topic": "personalSocial", "description": "Test pa mejorar 2"}, {"topic": "motorFino", "description": "Test pa mejorar 3"}]}',
                    "current" => false,
                    'created_at' => fake()->dateTimeBetween('-1 years', 'now')
                ]);
            } else if ($patient->state === "En tratamiento SJ") {
                $initialDiag = Diagnosis::create([
                    'denver_test' => '{"lenguaje": {"oks": 1, "label": "Lenguaje", "state": false, "tests": [{"label": "Responder a Campana", "toAge": 0.5, "fromAge": 0, "expectedAge": 0}, {"label": "Vocalizar", "toAge": 0.9, "fromAge": 0, "expectedAge": 0}, {"label": "OOO / AAA", "toAge": 2.7, "fromAge": 0.7, "expectedAge": 1.6}, {"label": "Reirse", "toAge": 3.2, "fromAge": 1.5, "expectedAge": 2.6}, {"label": "Chillar", "toAge": 4.3, "fromAge": 1.5, "expectedAge": 2.8}, {"label": "Volver hacia sonajero", "toAge": 5.6, "fromAge": 2.9, "expectedAge": 4.8}, {"label": "Volver hacia voz", "toAge": 6.8, "fromAge": 3.6, "expectedAge": 5.7}, {"label": "Sílabas sencillas", "toAge": 7.5, "fromAge": 4.8, "expectedAge": 6}, {"label": "Imitar sonidos del lenguaje", "toAge": 8.8, "fromAge": 3, "expectedAge": 6}, {"label": "Papá / mamá no específicos", "toAge": 9.1, "fromAge": 5.8, "expectedAge": 7.8}, {"label": "Sílabas combinadas", "toAge": 10, "fromAge": 5.9, "expectedAge": 7.5}, {"label": "Ga Ge Gi", "toAge": 12, "fromAge": 5.8, "expectedAge": 8.1}, {"label": "Papá / mamá específicos", "toAge": 13.1, "fromAge": 6.9, "expectedAge": 11}, {"label": "Una palabra", "toAge": 15, "fromAge": 9.7, "expectedAge": 13.1}, {"label": "Dos palabras", "toAge": 16.7, "fromAge": 10.7, "expectedAge": 14.7}, {"label": "Tres palabras", "toAge": 17.7, "fromAge": 11.5, "expectedAge": 15.9}, {"label": "Cinco palabras", "toAge": 20.5, "fromAge": 13.8, "expectedAge": 17.7}, {"label": "Indicar 2 dibujos", "toAge": 23.5, "fromAge": 17.2, "expectedAge": 20.2}, {"label": "Conbinar palabras", "toAge": 26, "fromAge": 17, "expectedAge": 20}, {"label": "Nombrar 1 dibujo", "toAge": 28, "fromAge": 18, "expectedAge": 22.5}, {"label": "Partes / cuerpos", "toAge": 29, "fromAge": 18.1, "expectedAge": 22.9}, {"label": "Indicar 4 dibujos", "toAge": 31, "fromAge": 19.8, "expectedAge": 24}, {"label": "Habla medio entendible", "toAge": 34, "fromAge": 17.1, "expectedAge": 27}, {"label": "Nombrar 4 dibujos", "toAge": 34, "fromAge": 23, "expectedAge": 30}, {"label": "Saber 2 acciones", "toAge": 39, "fromAge": 23.5, "expectedAge": 32}, {"label": "Saber 2 adjetivos", "toAge": 43, "fromAge": 31, "expectedAge": 36}, {"label": "Nombrar 1 color", "toAge": 45, "fromAge": 29, "expectedAge": 37}, {"label": "Uso de 2 objetos", "toAge": 46, "fromAge": 31, "expectedAge": 39}, {"label": "Contar cubos", "toAge": 47, "fromAge": 33, "expectedAge": 41}, {"label": "Uso de 2 objetos", "toAge": 49, "fromAge": 33, "expectedAge": 41}, {"label": "Saber 4 acciones", "toAge": 49, "fromAge": 31, "expectedAge": 43.5}, {"label": "Habla todo entendible", "toAge": 51, "fromAge": 23.2, "expectedAge": 40}, {"label": "Entender 4 preposiciones", "toAge": 56, "fromAge": 33, "expectedAge": 46}, {"label": "Nombrar 4 colores", "toAge": 58, "fromAge": 36, "expectedAge": 51}, {"label": "Definir 5 palabras", "toAge": 64, "fromAge": 39, "expectedAge": 55}, {"label": "Saber 3 adjetivos", "toAge": 64, "fromAge": 34, "expectedAge": 46}, {"label": "Contar 5 cubos", "state": true, "toAge": 64, "fromAge": 49, "expectedAge": 57.5}, {"label": "Contrarios - 2", "state": false, "toAge": 68, "fromAge": 44, "expectedAge": 60}, {"label": "Definir 7 palabras", "state": false, "toAge": 72, "fromAge": 56, "expectedAge": 67}], "wrongs": 2, "ageIndex": 38, "detectedAge": 57.5, "higherIndex": 38, "currentIndex": 35, "observations": "Mucha edad diagnostico falso"}, "motorFino": {"oks": 3, "label": "Motor Fino - Adaptativo", "state": true, "tests": [{"label": "Seguir hasta línea Med.", "toAge": 1.2, "fromAge": 0, "expectedAge": 0.5}, {"label": "Seguir línea Med.", "toAge": 2.8, "fromAge": 0.9, "expectedAge": 2}, {"label": "Agarrar sonajero", "toAge": 3.9, "fromAge": 2.6, "expectedAge": 3}, {"label": "Manos juntas", "toAge": 4, "fromAge": 2, "expectedAge": 2.9}, {"label": "Seguir 180", "toAge": 4.6, "fromAge": 2.2, "expectedAge": 3.9}, {"label": "Mirar una pasa", "toAge": 5.2, "fromAge": 2.9, "expectedAge": 4.5}, {"label": "Alcanzar", "toAge": 5.8, "fromAge": 4.5, "expectedAge": 5.2}, {"label": "Buscar el hilo", "toAge": 7.2, "fromAge": 5, "expectedAge": 6.1}, {"label": "Rastrillar pasa", "toAge": 7.3, "fromAge": 5.7, "expectedAge": 6}, {"label": "Pasar cubo", "toAge": 7.9, "fromAge": 5.1, "expectedAge": 6.5}, {"label": "Agarrar 2 cubos", "toAge": 9.1, "fromAge": 5.9, "expectedAge": 7.3}, {"label": "Apretón gordo / dedos", "toAge": 10.2, "fromAge": 7.1, "expectedAge": 9.1}, {"label": "Golpear 2 cubos manos", "toAge": 11, "fromAge": 6.9, "expectedAge": 10}, {"label": "Meter cubo en taza", "toAge": 14, "fromAge": 9.9, "expectedAge": 12.5}, {"label": "Garabatear", "toAge": 16.5, "fromAge": 11.9, "expectedAge": 14}, {"label": "Botar pasa, demostrado", "toAge": 19.9, "fromAge": 13, "expectedAge": 15.9}, {"label": "Torre de 2 cubos", "toAge": 21, "fromAge": 13.8, "expectedAge": 17}, {"label": "Torre de 4 cubos", "toAge": 25, "fromAge": 16.6, "expectedAge": 19.9}, {"label": "Torre de 6 cubos", "toAge": 32, "fromAge": 19.85, "expectedAge": 25}, {"label": "Imitar linea vertical", "toAge": 39, "fromAge": 25, "expectedAge": 33}, {"label": "Torre de 8 cubos", "toAge": 41, "fromAge": 23, "expectedAge": 33}, {"label": "Menearse gordo", "toAge": 46, "fromAge": 31, "expectedAge": 40}, {"label": "Copiar círculo", "toAge": 49, "fromAge": 37, "expectedAge": 43}, {"label": "Dibujar personas 3 partes", "toAge": 56, "fromAge": 40, "expectedAge": 50}, {"label": "Copiar +", "toAge": 57, "fromAge": 41, "expectedAge": 51}, {"label": "Escoger línea más larga", "toAge": 63, "fromAge": 36, "expectedAge": 48}, {"label": "Copiar cuadrado demostrar", "state": true, "toAge": 72, "fromAge": 48, "expectedAge": 60}, {"label": "Dibujar pesonas 6 partes", "state": true, "toAge": 72, "fromAge": 49, "expectedAge": 62}, {"label": "Copiar rectángulo", "state": true, "toAge": 72, "fromAge": 85, "expectedAge": 1}], "wrongs": 0, "ageIndex": 28, "detectedAge": 462.44, "higherIndex": 28, "currentIndex": 25, "observations": "Mucha edad diagnostico falso"}, "motorGrande": {"oks": 1, "label": "Motor Grande", "state": false, "tests": [{"label": "Movimientos iguales", "toAge": 0.25, "fromAge": 0, "expectedAge": 0}, {"label": "Levantar cabeza", "toAge": 0.5, "fromAge": 0, "expectedAge": 0}, {"label": "Cabeza levantada 45°", "toAge": 2.8, "fromAge": 0, "expectedAge": 1.7}, {"label": "Cabeza levantada 90°", "toAge": 3.65, "fromAge": 1.25, "expectedAge": 2.2}, {"label": "Sentarse cabeza firme", "toAge": 3.8, "fromAge": 1.4, "expectedAge": 2.3}, {"label": "Pesarse en piernas", "toAge": 4.5, "fromAge": 1.8, "expectedAge": 3.3}, {"label": "Pecho arriba apoyo en brazos", "toAge": 4.7, "fromAge": 2.7, "expectedAge": 4}, {"label": "Voltearse", "toAge": 5.5, "fromAge": 2.1, "expectedAge": 4.3}, {"label": "Levantar a sentar no retraso / cabeza", "toAge": 7, "fromAge": 3, "expectedAge": 5}, {"label": "Sentarse sin apoyo", "toAge": 7, "fromAge": 5.5, "expectedAge": 6.1}, {"label": "De pie apoyandose en Algo", "toAge": 8.8, "fromAge": 6.7, "expectedAge": 8}, {"label": "Ponerse de pie", "toAge": 9.8, "fromAge": 8, "expectedAge": 9}, {"label": "Sentarde se otra post", "toAge": 10, "fromAge": 7.9, "expectedAge": 9.1}, {"label": "De pie 2 seg", "toAge": 12, "fromAge": 9.5, "expectedAge": 11}, {"label": "De pie solo", "toAge": 13.9, "fromAge": 10.5, "expectedAge": 12.8}, {"label": "Agacharse encoger", "toAge": 14.9, "fromAge": 11, "expectedAge": 13.1}, {"label": "Caminar bien", "toAge": 15.1, "fromAge": 11, "expectedAge": 13.1}, {"label": "Caminar para atras", "toAge": 16.7, "fromAge": 12.2, "expectedAge": 15}, {"label": "Correr", "toAge": 21, "fromAge": 13.9, "expectedAge": 17.5}, {"label": "Subir escalera", "toAge": 29, "fromAge": 14, "expectedAge": 18}, {"label": "Pelota hacia delante", "toAge": 23, "fromAge": 15.9, "expectedAge": 20}, {"label": "Saltar", "toAge": 30, "fromAge": 20, "expectedAge": 27}, {"label": "Tirar pelota sobre mano", "toAge": 36, "fromAge": 17, "expectedAge": 24}, {"label": "Salto de longitud", "toAge": 37, "fromAge": 28, "expectedAge": 34}, {"label": "Equilibrio cada pie 1 seg", "toAge": 40, "fromAge": 27, "expectedAge": 33}, {"label": "Equilibrio cada pie 2 seg", "toAge": 48, "fromAge": 32, "expectedAge": 42}, {"label": "Saltar 1 pie", "toAge": 50, "fromAge": 38, "expectedAge": 44}, {"label": "Equilibrio cada pie 3 seg", "toAge": 54, "fromAge": 32, "expectedAge": 46}, {"label": "Equilibrio cada pie 4 seg", "toAge": 60, "fromAge": 41, "expectedAge": 54}, {"label": "Equilibrio cada pie 5 seg", "state": true, "toAge": 67, "fromAge": 45, "expectedAge": 58}, {"label": "Caminar talón / dedo", "state": false, "toAge": 68, "fromAge": 48, "expectedAge": 60}, {"label": "equilibrio cada pie 6 seg", "state": false, "toAge": 72, "fromAge": 50, "expectedAge": 63}], "wrongs": 2, "ageIndex": 31, "detectedAge": 58, "higherIndex": 31, "currentIndex": 28, "observations": "Mucha edad diagnostico falso"}, "personalSocial": {"oks": 0, "label": "Personal Social", "state": true, "tests": [{"label": "Responder con sonrisa", "toAge": 1.8, "fromAge": 0.5, "expectedAge": 1}, {"label": "Sonreir espontaneamente", "toAge": 2, "fromAge": 0.1, "expectedAge": 1.2}, {"label": "Mirarse las manos", "toAge": 4, "fromAge": 0.9, "expectedAge": 3}, {"label": "Alcanzar juguete", "toAge": 6, "fromAge": 4, "expectedAge": 5}, {"label": "Darse / Comer", "toAge": 7, "fromAge": 4.8, "expectedAge": 6}, {"label": "Aplaudir", "toAge": 11.2, "fromAge": 7, "expectedAge": 10.1}, {"label": "Indicar deseos", "toAge": 13.2, "fromAge": 7.1, "expectedAge": 9.4}, {"label": "Saludar adios", "toAge": 14, "fromAge": 6.8, "expectedAge": 9.9}, {"label": "Jugar pelota", "toAge": 15.9, "fromAge": 9.5, "expectedAge": 12}, {"label": "Imitar actividades", "toAge": 13, "fromAge": 10, "expectedAge": 12.5}, {"label": "Beber en una taza", "toAge": 17, "fromAge": 8.9, "expectedAge": 15}, {"label": "Ayudar en casa", "toAge": 17.1, "fromAge": 12.8, "expectedAge": 15.8}, {"label": "Usar cuchara / tenedor", "toAge": 20, "fromAge": 12.9, "expectedAge": 17.1}, {"label": "Quitarse la ropa", "toAge": 24, "fromAge": 13.1, "expectedAge": 20}, {"label": "Dar de comer a muñeca", "toAge": 24.1, "fromAge": 15, "expectedAge": 19}, {"label": "Ponerse la ropa", "toAge": 30, "fromAge": 20.1, "expectedAge": 27}, {"label": "Cepillarse los dientes con ayuda", "toAge": 33, "fromAge": 16, "expectedAge": 23}, {"label": "Lavarse / secarse las manos", "toAge": 38, "fromAge": 19, "expectedAge": 26}, {"label": "Nombrar amigo", "toAge": 38, "fromAge": 27, "expectedAge": 34}, {"label": "Ponerse camiseta", "toAge": 42, "fromAge": 27, "expectedAge": 33}, {"label": "Vestirse sin ayuda", "state": false, "toAge": 54, "fromAge": 26, "expectedAge": 48}, {"label": "Jugar juegos / naipes", "state": true, "toAge": 59, "fromAge": 33, "expectedAge": 50}, {"label": "Cepillarse dientes sin ayuda", "state": true, "toAge": 60, "fromAge": 31, "expectedAge": 51}, {"label": "Preparar cereal", "state": true, "toAge": 61, "fromAge": 35, "expectedAge": 54}], "wrongs": 1, "ageIndex": 23, "detectedAge": 462.44, "higherIndex": 23, "currentIndex": 19, "observations": "Mucha edad diagnostico falso"}}',
                    'recomendations' => "dudoso, por Mucha edad diagnostico falso",
                    'result' => "Dudoso",
                    'evaluated_age' => 462.44,
                    'created_at' => fake()->dateTimeBetween('-1 month', 'now')
                ]);
                Treatment::create([
                    "patient_id" => $patient->id,
                    "initial_diagnoses_id" => $initialDiag->id,
                    "final_diagnoses_id" => null,
                    "external_treatment" => '{"list": [{"topic": "motorGrande", "description": "Mejorar MG 1"}, {"topic": "motorGrande", "description": "Mejorar MG 2"}, {"topic": "lenguaje", "description": "Mejorar Lenguaje 1"}, {"topic": "lenguaje", "description": "Mejorar Lenguaje 2"}]}',
                    "current" => true,
                ]);
            }
        });
    }
    /**
     * Define the model's default state.
     *
     * @return array<string, mixed>
     */
    public function definition(): array
    {
        return [
            'fullname' => fake()->name(),
            'nickname' => 'Fake Nickname',
            'birthday' => fake()->dateTimeBetween('-6 years', 'now'),
            'user_id' => rand(2, 3),
            'state' => ['Internado', 'Dado de alta', 'En tratamiento SJ'][rand(0, 2)],
            'genre' => ['F', 'M'][rand(0, 1)],
            'nhc' => rand(0, 10000000),
            'created_at' => fake()->dateTimeBetween('-1 years', 'now')
        ];
    }
}
